<!--pages/index/index.wxml-->
<view class="container">
  <!-- 商品列表 -->
  <block wx:for="{{products}}" wx:key="id">
    <view class="product-card" bindtap="goToProductDetail" data-id="{{item.id}}">
      <image src="{{item.image}}" mode="aspectFill" class="product-image"></image>
      <view class="product-info">
        <view class="product-name">{{item.name}}</view>
        <view class="price-section">
          <text class="price">¥{{item.price}}</text>
          <text wx:if="{{item.originalPrice}}" class="original-price">¥{{item.originalPrice}}</text>
        </view>
        <view class="actions">
          <button class="button" bindtap="addToCart" data-product="{{item}}">加入购物车</button>
        </view>
      </view>
    </view>
  </block>

  <!-- 加载更多 -->
  <view wx:if="{{!loading && hasMore}}" class="load-more" bindtap="onReachBottom">
    加载更多...
  </view>
  <view wx:if="{{!hasMore}}" class="load-more">
    没有更多了
  </view>
</view>
